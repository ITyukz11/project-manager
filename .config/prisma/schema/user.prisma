enum Role {
  SUPERADMIN   
  ADMIN
  FAP
  MASTER_AGENT
  TL
  LOADER
  ACCOUNTING 
  SSMA   
}

// SuperAdmin: the alpha entity, connected to a User
model SuperAdmin {
  id          String        @id @default(uuid())
  name        String
  location    String?
  ownerId     String   @unique // Unique means only one SuperAdmin per User
  owner       User     @relation(fields: [ownerId], references: [id])
  casinoGroups CasinoGroup[] // NEW: one superadmin has many casino groups
  createdAt   DateTime      @default(now())
}

// Unified User: single model for all roles
model User {
  id               String          @id @default(uuid())
  email            String          @unique
  password         String
  name             String
  username         String         @unique
  role             Role
  messengerLink    String?
  active           Boolean         @default(true)
  remarks          String?        // additional remarks or notes
  groupChats       GroupChat[]

  referredBy       User?           @relation("UserReferrals", fields: [referredById], references: [id])
  referredById     String?
  referrals        User[]          @relation("UserReferrals")

  cashoutThreads   CashoutThread[]
  mentionedInThreads CashoutThread[] @relation("CashoutThreadMentions")
  cashouts         Cashout[]
  cashoutLogs      CashoutLogs[]

  concerns         Concern[]         @relation("ConcernCreator")
  taggedConcerns   Concern[]         @relation("ConcernTags") // tagged in concerns
  concernThreads   ConcernThread[]
  mentionedInConcernThreads ConcernThread[] @relation("ConcernThreadMentions")
  concernLogs      ConcernLogs[]

  superAdmin       SuperAdmin? // one-to-one: nullable if not all users are superadmins
  casinoGroups     CasinoGroup[] // Many-to-many relationship with CasinoGroup

  notifications  Notifications[]
  createdAt        DateTime        @default(now())
  updatedAt        DateTime        @updatedAt
}