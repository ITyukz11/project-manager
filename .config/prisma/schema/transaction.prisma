model TransactionRequest {
  id            String   @id @default(cuid())
  type          String   // 'CASHIN' or 'CASHOUT'
  username      String   // Anonymous player username (not a User in system)
  amount        Float
  bankDetails   String?  // Required for CASHOUT

  bankName     String?  // For CASHOUT
  accountName  String?  // For CASHOUT
  accountNumber String? // For CASHOUT
  
  paymentMethod String?  // GCash, Maya, GoTyme
  status        String   @default("PENDING") // PENDING, COMPLETED, REJECTED
  balance    String?  // URL to attachment/image proof reply in updating status

  remarks         String? // For rejection reason or additional notes
  receiptUrl      String?
  receiptHash     String?       // ðŸ†• For duplicate detection
  ipAddress       String?       // ðŸ†• For audit trail
  userAgent       String?       // ðŸ†• For audit trail

  chatBased      Boolean  @default(false) // Whether this request is from chat-based system
  cashInId       String?  // Link to Cashin if applicable

  // Track who processed/updated this transaction (admin/staff)
  processedById String? 
  processedBy   User?    @relation(fields: [processedById], references: [id], onDelete: SetNull)
  processedAt   DateTime? 
  
  casinoGroupId String
  casinoGroup   CasinoGroup @relation(fields:  [casinoGroupId], references: [id], onDelete:  Cascade)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@index([casinoGroupId])
  @@index([status])
  @@index([type])
  @@index([processedById])
}